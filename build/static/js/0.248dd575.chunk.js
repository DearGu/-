webpackJsonp([0,3,5],{67:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),i=a.n(s),c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"loading_wrap"})}}]),t}(s.Component);t.default=l},69:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=a(0),i=a.n(s),c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=function(e){function t(e){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return o(t,e),c(t,[{key:"handleTouchTab",value:function(e){this.props.handleTouchTab(e)}},{key:"render",value:function(){var e=this,t=this.props.tabList;return i.a.createElement("div",{className:"hot_tab_list"},i.a.createElement("h3",null,"\u70ed\u95e8\u641c\u7d22"),i.a.createElement("ul",{className:"hot_tab_wrap"},t.map(function(t,a){return i.a.createElement("li",{key:a,className:"search_tab",onTouchStart:e.handleTouchTab.bind(e,t.k)},t.k)})))}}]),t}(s.Component);t.default=l},72:function(e,t,a){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),c=a.n(i),l=a(36),u=a.n(l),h=a(69),f=a(18),d=a(67),p=a(17),g=a(19),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),b=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={searchValue:"",isShowClear:!1,tabList:[],isShowTab:!0,isShowSinger:!1,songList:[],singerMsg:{},isLoading:!1,maxPage:1,currentPage:1,isShowList:!0,lock_scroll:!0},a.handleSubmit=a.handleSubmit.bind(a),a.handleloadMore=a.handleloadMore.bind(a),a.handleInput=a.handleInput.bind(a),a.hadleClearText=a.hadleClearText.bind(a),a.handleTouchTab=a.handleTouchTab.bind(a),a}return s(t,e),m(t,[{key:"componentDidMount",value:function(){var e=this;u.a.get("/splcloud/fcgi-bin/gethotkey.fcg",{g_tk:5381,uin:0,format:"json",inCharset:"utf-8",outCharset:"utf-8",notice:0,platform:"h5",needNewCode:1}).then(function(t){e.setState({tabList:[].concat(n(t.data.data.hotkey.slice(0,9)))})}).catch(function(e){console.log(e)})}},{key:"handleSearch",value:function(e,t,a){var r=this;this.setState({isLoading:!0,lock_scroll:!0}),u.a.get("/soso/fcgi-bin/search_for_qq_cp",{params:{g_tk:5381,uin:0,format:"json",inCharset:"utf-8",outCharset:"utf-8",notice:0,platform:"h5",needNewCode:1,w:this.state.searchValue,zhidaqu:1,catZhida:1,t:0,flag:1,ie:"utf-8",sem:1,aggr:0,perpage:20,n:20,p:e,remoteplace:"txt.mqq.all"}}).then(function(e){2==e.data.data.zhida.type?t?r.setState({songList:[].concat(n(r.state.songList),n(e.data.data.song.list)),singerMsg:Object.assign({},e.data.data.zhida),maxPage:e.data.data.song.curnum,isShowList:!0,lock_scroll:!1}):r.setState({songList:[].concat(n(e.data.data.song.list)),isShowSinger:!0,singerMsg:Object.assign({},e.data.data.zhida),maxPage:e.data.data.song.curnum,isShowList:!0,lock_scroll:!1}):t?r.setState({songList:[].concat(n(r.state.songList),n(e.data.data.song.list)),maxPage:e.data.data.song.curnum,isShowList:!0,lock_scroll:!1}):r.setState({songList:[].concat(n(e.data.data.song.list)),isShowSinger:!1,maxPage:e.data.data.song.curnum,isShowList:!0,lock_scroll:!1}),r.refs.searchInput.blur()}).catch(function(e){console.log(e)})}},{key:"handleInput",value:function(){this.refs.searchInput.value?this.setState({searchValue:this.refs.searchInput.value,isShowClear:!0,isShowTab:!1,isShowList:!1,isLoading:!1}):this.setState({searchValue:this.refs.searchInput.value,isShowTab:!0,lock_scroll:!0,isLoading:!1})}},{key:"hadleClearText",value:function(){this.refs.searchInput.value="",this.refs.searchInput.focus(),this.setState({searchValue:this.refs.searchInput.value,isShowClear:!1,isShowTab:!0,lock_scroll:!0,isLoading:!1})}},{key:"handleTouchTab",value:function(e){var t=this;this.refs.searchInput.value=e.trim(),this.setState({searchValue:e.trim(),isShowClear:!0,isShowTab:!1,isShowList:!1},function(){t.setState({currentPage:1}),t.handleSearch(1,!1)})}},{key:"handleloadMore",value:function(){var e=this;this.state.currentPage>=this.state.maxPage?this.setState({isLoading:!1}):this.setState({currentPage:++this.state.currentPage},function(){e.handleSearch(e.state.currentPage,!0)})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({currentPage:1}),this.handleSearch(1,!1)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"tab_item"},c.a.createElement(p.default,{loadMore:this.handleloadMore,isLock:this.state.lock_scroll,isLoadMore:!0},c.a.createElement("form",{action:"#",method:"get",className:"searchForm",onSubmit:this.handleSubmit},c.a.createElement("div",{className:"search_wrap"},c.a.createElement("i",{className:"search_icon"}),c.a.createElement("input",{type:"search",className:"search_input",placeholder:"\u641c\u7d22\u6b4c\u66f2\u3001\u6b4c\u624b\u3001\u4e13\u8f91",onInput:this.handleInput,ref:"searchInput"}),this.state.isShowClear?c.a.createElement("div",{className:"clear_warp",onTouchStart:this.hadleClearText},c.a.createElement("i",{className:"clear_btn"})):"")),function(){return e.state.isShowTab?c.a.createElement(h.default,{tabList:e.state.tabList,handleTouchTab:e.handleTouchTab}):e.state.isShowList?e.state.isShowSinger?[c.a.createElement("div",{className:"singer_msg",key:"1"},c.a.createElement("h3",null,"\u6700\u4f73\u5339\u914d"),c.a.createElement(g.b,{to:"/artList/"+e.state.singerMsg.singermid},c.a.createElement("div",{className:"singer_wrap"},c.a.createElement("img",{src:"https://y.gtimg.cn/music/photo_new/T001R68x68M000"+e.state.singerMsg.singermid+".jpg?max_age=2592000"}),c.a.createElement("div",{className:"singer_text"},"\u6b4c\u624b\uff1a"+e.state.singerMsg.singername),c.a.createElement("i",{className:"right_arrow"})))),c.a.createElement(f.default,{songList:e.state.songList,key:"2"})]:c.a.createElement(f.default,{songList:e.state.songList}):void 0}(),this.state.isLoading?c.a.createElement(d.default,null):""))}}]),t}(i.Component);t.default=b}});
//# sourceMappingURL=0.248dd575.chunk.js.map